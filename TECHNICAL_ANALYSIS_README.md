# å°ç£è‚¡å¸‚æŠ€è¡“åˆ†æžèˆ‡è³‡æ–™è¦–è¦ºåŒ–ç³»çµ±

## ðŸš€ ç³»çµ±æ¦‚è¿°

æœ¬ç³»çµ±æ˜¯ä¸€å€‹åŸºæ–¼ NestJS çš„å°ˆæ¥­ç´šå°ç£è‚¡å¸‚æŠ€è¡“åˆ†æžå¹³å°ï¼Œæä¾›å…¨é¢çš„æŠ€è¡“æŒ‡æ¨™è¨ˆç®—ã€è²·è³£ä¿¡è™Ÿç”Ÿæˆå’Œè³‡æ–™è¦–è¦ºåŒ–åŠŸèƒ½ã€‚

## ðŸ“Š ä¸»è¦åŠŸèƒ½

### 1. æŠ€è¡“æŒ‡æ¨™è¨ˆç®—
- **ç§»å‹•å¹³å‡ç·š (MA)**: MA5, MA10, MA20, MA60, MA120
- **æŒ‡æ•¸ç§»å‹•å¹³å‡ç·š (EMA)**: EMA12, EMA26
- **ç›¸å°å¼·å¼±æŒ‡æ¨™ (RSI)**: RSI12, RSI24 
- **MACD æŒ‡æ¨™**: MACD ç·šã€ä¿¡è™Ÿç·šã€æŸ±ç‹€åœ–
- **KD éš¨æ©ŸæŒ‡æ¨™**: Kå€¼ã€Då€¼ã€Jå€¼
- **å¨å»‰æŒ‡æ¨™ (Williams %R)**: WR14
- **å¸ƒæž—å¸¶**: ä¸Šè»Œã€ä¸­è»Œã€ä¸‹è»Œã€é€šé“å¯¬åº¦
- **æˆäº¤é‡æŒ‡æ¨™**: æˆäº¤é‡ç§»å‹•å¹³å‡ã€é‡æ¯”åˆ†æž

### 2. è²·è³£ä¿¡è™Ÿç³»çµ±
- **MACD ä¿¡è™Ÿ**: é»ƒé‡‘äº¤å‰/æ­»äº¡äº¤å‰
- **RSI ä¿¡è™Ÿ**: è¶…è²·(>70)/è¶…è³£(<30)
- **KD ä¿¡è™Ÿ**: é»ƒé‡‘äº¤å‰/æ­»äº¡äº¤å‰
- **å¸ƒæž—å¸¶ä¿¡è™Ÿ**: çªç ´ä¸Šè»Œ/è·Œç ´ä¸‹è»Œ
- **å¨å»‰æŒ‡æ¨™ä¿¡è™Ÿ**: è¶…è²·/è¶…è³£å€é–“
- **æˆäº¤é‡ä¿¡è™Ÿ**: é‡èƒ½çªç ´
- **åƒ¹æ ¼ä¿¡è™Ÿ**: æ”¯æ’é˜»åŠ›çªç ´

### 3. è³‡æ–™è¦–è¦ºåŒ–
- **Kç·šåœ–**: å¸¶ç§»å‹•å¹³å‡ç·šçš„è Ÿç‡­åœ–
- **æŠ€è¡“æŒ‡æ¨™åœ–**: RSIã€MACDã€KD ç­‰æŒ‡æ¨™åœ–è¡¨
- **å¸‚å ´æ¦‚æ³åœ–**: æŒ‡æ•¸èµ°å‹¢ã€é¡žè‚¡è¡¨ç¾
- **è²·è³£ä¿¡è™Ÿåœ–è¡¨**: ä¿¡è™Ÿåˆ†å¸ƒçµ±è¨ˆ
- **æŽ’è¡Œæ¦œåœ–è¡¨**: å„é …æŒ‡æ¨™æŽ’åè¦–è¦ºåŒ–

### 4. ç¶œåˆè©•åˆ†ç³»çµ±
- **æŠ€è¡“è©•åˆ† (0-100)**: åŸºæ–¼å¤šé …æŒ‡æ¨™çš„ç¶œåˆè©•åˆ†
- **æŠ•è³‡å»ºè­°**: å¼·çƒˆè²·é€²/è²·é€²/æŒæœ‰/è³£å‡º/å¼·çƒˆè³£å‡º
- **è¶¨å‹¢åˆ†æž**: çŸ­æœŸ/ä¸­æœŸ/é•·æœŸè¶¨å‹¢åˆ¤æ–·
- **æ”¯æ’é˜»åŠ›**: é—œéµåƒ¹ä½è¨ˆç®—

## ðŸŽ¯ ç³»çµ±æž¶æ§‹

### å¾Œç«¯æ¨¡çµ„
```
src/
â”œâ”€â”€ technical-analysis/        # æŠ€è¡“åˆ†æžæ ¸å¿ƒæ¨¡çµ„
â”‚   â”œâ”€â”€ technical-analysis.service.ts      # æŒ‡æ¨™è¨ˆç®—é‚è¼¯
â”‚   â”œâ”€â”€ technical-analysis.controller.ts   # API æŽ§åˆ¶å™¨
â”‚   â”œâ”€â”€ technical-indicator.schema.ts      # æ•¸æ“šæ¨¡åž‹
â”‚   â””â”€â”€ technical-indicator.repository.ts  # æ•¸æ“šå­˜å–å±¤
â”œâ”€â”€ chart/                     # åœ–è¡¨æ•¸æ“šæ¨¡çµ„
â”‚   â”œâ”€â”€ chart.service.ts       # åœ–è¡¨æ•¸æ“šç”Ÿæˆ
â”‚   â””â”€â”€ chart.controller.ts    # åœ–è¡¨ API
â”œâ”€â”€ common/                    # å…±ç”¨æ¨¡çµ„
â”‚   â””â”€â”€ analysis-web.controller.ts  # ç¶²é æŽ§åˆ¶å™¨
â””â”€â”€ views/analysis/            # å‰ç«¯æ¨¡æ¿
    â”œâ”€â”€ index.hbs              # æŠ€è¡“åˆ†æžé¦–é 
    â”œâ”€â”€ stock-detail.hbs       # å€‹è‚¡åˆ†æžé 
    â”œâ”€â”€ dashboard.hbs          # å¸‚å ´å„€è¡¨æ¿
    â”œâ”€â”€ signals.hbs            # è²·è³£ä¿¡è™Ÿé 
    â””â”€â”€ rankings.hbs           # æŽ’è¡Œæ¦œé 
```

### æ•¸æ“šæ¨¡åž‹
- **TechnicalIndicator**: å„²å­˜æ‰€æœ‰æŠ€è¡“æŒ‡æ¨™æ•¸æ“š
- **Ticker**: è‚¡ç¥¨åŸºæœ¬è³‡æ–™å’Œåƒ¹æ ¼æ•¸æ“š
- **MarketStats**: å¸‚å ´çµ±è¨ˆæ•¸æ“š

## ðŸŒ ç¶²é ä»‹é¢

### 1. æŠ€è¡“åˆ†æžé¦–é  (`/analysis`)
- å¸‚å ´ç¸½è¦½å¡ç‰‡ (ç¸½è‚¡ç¥¨æ•¸ã€è²·è³£ä¿¡è™Ÿæ•¸ã€å¸‚å ´æƒ…ç·’)
- æŠ€è¡“è©•åˆ†å‰10åæŽ’è¡Œæ¦œ
- è²·è³£ä¿¡è™Ÿè‚¡ç¥¨åˆ—è¡¨
- è‚¡ç¥¨æœå°‹åŠŸèƒ½

### 2. å€‹è‚¡åˆ†æžé  (`/analysis/stock/:symbol`)
- è‚¡ç¥¨åŸºæœ¬è³‡è¨Šå’Œå³æ™‚åƒ¹æ ¼
- æŠ€è¡“æŒ‡æ¨™ä¿¡è™Ÿç‡ˆ (è²·é€²/è³£å‡º/ä¸­æ€§)
- Kç·šåœ–èˆ‡ç§»å‹•å¹³å‡ç·š
- è©³ç´°æŠ€è¡“æŒ‡æ¨™æ•¸å€¼å’Œåœ–è¡¨
- ç§»å‹•å¹³å‡ç·šåˆ†æžè¡¨æ ¼

### 3. å¸‚å ´å„€è¡¨æ¿ (`/analysis/dashboard`)
- å³æ™‚å¸‚å ´çµ±è¨ˆ (ä¸Šå¸‚/ä¸Šæ«ƒè‚¡ç¥¨æ•¸ã€æˆäº¤é‡‘é¡)
- å¸‚å ´æŒ‡æ•¸èµ°å‹¢åœ–
- é¡žè‚¡è¡¨ç¾æŽ’è¡Œæ¦œ
- æŠ€è¡“æŒ‡æ¨™åˆ†å¸ƒçµ±è¨ˆ
- è‡ªå‹•åˆ·æ–°åŠŸèƒ½

### 4. è²·è³£ä¿¡è™Ÿé  (`/analysis/signals`)
- ä¿¡è™Ÿç¯©é¸å™¨ (å…¨éƒ¨/è²·é€²/è³£å‡º/å¼·çƒˆä¿¡è™Ÿ)
- å¸‚å ´/é¡žè‚¡ç¯©é¸
- è‚¡ç¥¨æœå°‹åŠŸèƒ½
- ä¿¡è™Ÿå¼·åº¦è©•ç´š
- è©³ç´°ä¿¡è™Ÿåˆ†æžå¡ç‰‡

### 5. æŽ’è¡Œæ¦œé  (`/analysis/rankings`)
- æŠ€è¡“è©•åˆ†æŽ’è¡Œ
- ç¸¾æ•ˆè¡¨ç¾æŽ’è¡Œ (æ¼²è·Œå¹…)
- æˆäº¤é‡æŽ’è¡Œ
- æ³¢å‹•çŽ‡æŽ’è¡Œ
- å‹•èƒ½æŒ‡æ¨™æŽ’è¡Œ (RSIã€MACDã€KD)

## ðŸ“¡ API ç«¯é»ž

### æŠ€è¡“åˆ†æž API
```
GET /technical-analysis/report/:symbol        # å€‹è‚¡æŠ€è¡“åˆ†æžå ±å‘Š
GET /technical-analysis/market-overview       # å¸‚å ´æŠ€è¡“åˆ†æžæ¦‚æ³
POST /technical-analysis/calculate            # è¨ˆç®—æŠ€è¡“æŒ‡æ¨™
GET /technical-analysis/buy-signals           # è²·é€²ä¿¡è™Ÿè‚¡ç¥¨
GET /technical-analysis/sell-signals          # è³£å‡ºä¿¡è™Ÿè‚¡ç¥¨
GET /technical-analysis/top-rated             # æŠ€è¡“è©•åˆ†æœ€é«˜è‚¡ç¥¨
GET /technical-analysis/history/:symbol       # å€‹è‚¡æ­·å²æŠ€è¡“æŒ‡æ¨™
GET /technical-analysis/stats                 # æŠ€è¡“æŒ‡æ¨™çµ±è¨ˆ
```

### åœ–è¡¨æ•¸æ“š API
```
GET /chart/candlestick/:symbol                # Kç·šåœ–æ•¸æ“š
GET /chart/technical/:symbol                  # æŠ€è¡“æŒ‡æ¨™åœ–æ•¸æ“š
GET /chart/market-index                       # å¸‚å ´æŒ‡æ•¸åœ–æ•¸æ“š
GET /chart/sector-performance                 # é¡žè‚¡è¡¨ç¾æ•¸æ“š
GET /chart/technical-distribution             # æŠ€è¡“æŒ‡æ¨™åˆ†å¸ƒæ•¸æ“š
GET /chart/top-stocks/:type                   # æŽ’è¡Œæ¦œæ•¸æ“š
GET /chart/market-dashboard                   # å„€è¡¨æ¿æ•¸æ“š
```

## âš™ï¸ ä½¿ç”¨æ–¹å¼

### 1. å•Ÿå‹•ç³»çµ±
```bash
cd /Users/ming/Desktop/ch026
npm start
```

### 2. è¨ªå•ç³»çµ±
- **æŠ€è¡“åˆ†æžé¦–é **: http://localhost:3000/analysis
- **ç®¡ç†é¢æ¿**: http://localhost:3000/admin/fetch-data
- **API æ–‡æª”**: http://localhost:3000/technical-analysis (JSON API)

### 3. æ•¸æ“šç²å–
1. å…ˆåˆ°ç®¡ç†é¢æ¿ç²å–è‚¡ç¥¨æ•¸æ“š
2. ç³»çµ±æœƒè‡ªå‹•è¨ˆç®—æŠ€è¡“æŒ‡æ¨™
3. é€šéŽç¶²é ç•Œé¢æŸ¥çœ‹åˆ†æžçµæžœ

### 4. åŠŸèƒ½æ“ä½œ
- **æ—¥æœŸé¸æ“‡**: åœ¨é¦–é é¸æ“‡åˆ†æžæ—¥æœŸ
- **è‚¡ç¥¨æœå°‹**: è¼¸å…¥è‚¡ç¥¨ä»£è™Ÿé€²è¡Œæœå°‹
- **ä¿¡è™Ÿç¯©é¸**: åœ¨ä¿¡è™Ÿé é¢ç¯©é¸ä¸åŒé¡žåž‹çš„ä¿¡è™Ÿ
- **æŽ’è¡Œæ¦œåˆ‡æ›**: åœ¨æŽ’è¡Œæ¦œé é¢åˆ‡æ›ä¸åŒæŒ‡æ¨™æŽ’å

## ðŸ”§ æŠ€è¡“ç‰¹è‰²

### 1. å°ˆæ¥­è¨ˆç®—ç®—æ³•
- æ¨™æº–æŠ€è¡“åˆ†æžæŒ‡æ¨™è¨ˆç®—å…¬å¼
- å¤šæ™‚é–“é€±æœŸåˆ†æž (5æ—¥ã€20æ—¥ã€60æ—¥ç­‰)
- å‹•æ…‹æ”¯æ’é˜»åŠ›ä½è¨ˆç®—
- ç¶œåˆè©•åˆ†æ¼”ç®—æ³•

### 2. å³æ™‚ä¿¡è™Ÿç”Ÿæˆ
- å¯¦æ™‚è²·è³£ä¿¡è™Ÿåˆ¤æ–·
- å¤šæŒ‡æ¨™äº¤å‰é©—è­‰
- ä¿¡è™Ÿå¼·åº¦åˆ†ç´š
- è¶¨å‹¢æ–¹å‘åˆ¤æ–·

### 3. è¦–è¦ºåŒ–è¨­è¨ˆ
- éŸ¿æ‡‰å¼ç¶²é è¨­è¨ˆ
- Chart.js å°ˆæ¥­åœ–è¡¨
- ç›´è§€çš„ä¿¡è™ŸæŒ‡ç¤ºå™¨
- é¡è‰²ç·¨ç¢¼ç³»çµ± (ç¶ è²·ç´…è³£)

### 4. æ€§èƒ½å„ªåŒ–
- MongoDB ç´¢å¼•å„ªåŒ–
- æ•¸æ“šå¿«å–æ©Ÿåˆ¶
- ç•°æ­¥è¨ˆç®—è™•ç†
- åˆ†é æŸ¥è©¢æ”¯æ´

## ðŸ“ˆ æŠ•è³‡æ‡‰ç”¨

### 1. æŠ€è¡“åˆ†æžæµç¨‹
1. æŸ¥çœ‹å¸‚å ´ç¸½è¦½äº†è§£å¤§ç›¤æƒ…æ³
2. ç¯©é¸è²·è³£ä¿¡è™Ÿè‚¡ç¥¨
3. åˆ†æžå€‹è‚¡æŠ€è¡“æŒ‡æ¨™
4. åƒè€ƒæ”¯æ’é˜»åŠ›ä½è¨­å®šé€²å‡ºå ´é»ž
5. ä½¿ç”¨ç¶œåˆè©•åˆ†è¼”åŠ©æ±ºç­–

### 2. é¢¨éšªç®¡ç†
- å¤šæŒ‡æ¨™äº¤å‰é©—è­‰é™ä½Žå‡ä¿¡è™Ÿ
- æ”¯æ’é˜»åŠ›ä½è¨­å®šæ­¢æé»ž
- æˆäº¤é‡ç¢ºèªä¿¡è™Ÿæœ‰æ•ˆæ€§
- è¶¨å‹¢åˆ†æžåˆ¤æ–·å¸‚å ´ç’°å¢ƒ

### 3. ä½¿ç”¨å»ºè­°
- çµåˆåŸºæœ¬é¢åˆ†æžä½¿ç”¨
- æ³¨æ„å¸‚å ´æ•´é«”è¶¨å‹¢
- è¨­å®šåˆç†çš„é¢¨éšªæŽ§ç®¡
- å®šæœŸæª¢è¦–æŠ•è³‡çµ„åˆ

## âš ï¸ å…è²¬è²æ˜Ž

æœ¬ç³»çµ±æä¾›çš„æŠ€è¡“åˆ†æžåƒ…ä¾›åƒè€ƒï¼Œä¸æ§‹æˆæŠ•è³‡å»ºè­°ã€‚æ‰€æœ‰æŠ•è³‡æ±ºç­–æ‡‰åŸºæ–¼å€‹äººç ”ç©¶å’Œå°ˆæ¥­è«®è©¢ã€‚æŠ€è¡“åˆ†æžç„¡æ³•ä¿è­‰æŠ•è³‡æ”¶ç›Šï¼Œè«‹è¬¹æ…ŽæŠ•è³‡ä¸¦è‡ªè² ç›ˆè™§ã€‚

## ðŸ”„ ç³»çµ±æ›´æ–°

ç³»çµ±æœƒæŒçºŒæ›´æ–°å’Œæ”¹é€²ï¼ŒåŒ…æ‹¬ï¼š
- æ–°å¢žæ›´å¤šæŠ€è¡“æŒ‡æ¨™
- å„ªåŒ–è¨ˆç®—ç®—æ³•
- æ”¹å–„ç”¨æˆ¶ç•Œé¢
- å¢žåŠ æ›´å¤šåœ–è¡¨é¡žåž‹
- æå‡ç³»çµ±æ€§èƒ½

---

**ç‰ˆæœ¬**: 1.0.0  
**æœ€å¾Œæ›´æ–°**: 2025/11/03  
**é–‹ç™¼ç’°å¢ƒ**: NestJS, MongoDB, TypeScript, Handlebars, Chart.js