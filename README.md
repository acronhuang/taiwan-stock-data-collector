# ğŸš€ æ™ºèƒ½å°è‚¡è³‡æ–™æ”¶é›†ç³»çµ±

å®Œæ•´çš„å°è‚¡è³‡æ–™è‡ªå‹•æ”¶é›†èˆ‡åˆ†æç³»çµ±ï¼Œæ•´åˆæ”¿åºœè¡Œæ”¿æ©Ÿé—œè¾¦å…¬æ—¥æ›†è¡¨ï¼Œå…·å‚™æ™ºèƒ½è·³éã€è³‡æ–™ä¸€è‡´æ€§æª¢æŸ¥ç­‰å…ˆé€²åŠŸèƒ½ã€‚

## ğŸ“‹ ç›®éŒ„

- [åŠŸèƒ½ç‰¹è‰²](#-åŠŸèƒ½ç‰¹è‰²)
- [æŠ€è¡“æ¶æ§‹](#-æŠ€è¡“æ¶æ§‹)
- [å®‰è£ä½¿ç”¨](#-å®‰è£ä½¿ç”¨)
- [æ’ç¨‹æ™‚é–“è¡¨](#-æ’ç¨‹æ™‚é–“è¡¨)
- [ç‰ˆæ§ç®¡ç†](#-ç‰ˆæ§ç®¡ç†)
- [API æ–‡ä»¶](#-api-æ–‡ä»¶)

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ§  æ™ºèƒ½ç³»çµ±
- **æ™ºèƒ½æ—¥æœŸåˆ¤æ–·**: å·¥ä½œæ—¥ä¸‹åˆ3é»/8é»å¾Œä½¿ç”¨ç•¶æ—¥ï¼Œå¦å‰‡ä½¿ç”¨ä¸Šä¸€å·¥ä½œæ—¥
- **æ”¿åºœå‡æ—¥æ•´åˆ**: ä¾ç…§è¡Œæ”¿æ©Ÿé—œè¾¦å…¬æ—¥æ›†è¡¨ï¼Œè‡ªå‹•æ’é™¤ä¼‘å‡æ—¥
- **è³‡æ–™é‡è¤‡æª¢æŸ¥**: æ™ºèƒ½è·³éå·²å­˜åœ¨è³‡æ–™ï¼Œæå‡ 80-90% æ•ˆèƒ½
- **éŒ¯èª¤æ™ºèƒ½åˆ†é¡**: LOG(æ­£å¸¸è·³é) vs WARN(çœŸæ­£å•é¡Œ)

### ğŸ“Š è³‡æ–™æ”¶é›†
- **28+ API æ•´åˆ**: æ¶µè“‹ TWSEã€TPExã€TAIFEX ç­‰ä¸»è¦äº¤æ˜“æ‰€
- **å®Œæ•´è¦†è“‹**: æŒ‡æ•¸ã€å€‹è‚¡ã€æ³•äººã€æœŸè²¨ã€é¸æ“‡æ¬Šè³‡æ–™
- **å¯¦æ™‚ç›£æ§**: API ç‹€æ…‹è¿½è¹¤èˆ‡å·²çŸ¥å•é¡Œç®¡ç†

## ğŸ”§ æŠ€è¡“æ¶æ§‹

```
æ™ºèƒ½å°è‚¡è³‡æ–™æ”¶é›†ç³»çµ±
â”œâ”€â”€ ğŸ—ï¸  NestJS + TypeScript (æ ¸å¿ƒæ¡†æ¶)
â”œâ”€â”€ ğŸ“Š MongoDB + Mongoose (è³‡æ–™å­˜å„²)
â”œâ”€â”€ â° Cron æ’ç¨‹ç³»çµ± (è‡ªå‹•åŸ·è¡Œ)
â”œâ”€â”€ ğŸŒ REST API (ç›£æ§ç«¯é»)
â””â”€â”€ ğŸ¯ æ™ºèƒ½è³‡æ–™ç®¡ç† (æ ¸å¿ƒé‚è¼¯)
```

## ğŸ“… æ’ç¨‹æ™‚é–“è¡¨

| æ™‚é–“ | åŠŸèƒ½ | å…§å®¹ |
|------|------|------|
| **14:00** | æŒ‡æ•¸æ”¶ç›¤è³‡æ–™ | ä¸Šå¸‚/ä¸Šæ«ƒæŒ‡æ•¸æ”¶ç›¤è¡Œæƒ… |
| **15:00** | å¤§ç›¤è³‡æ–™ | åŠ æ¬ŠæŒ‡æ•¸ã€æˆäº¤é‡å€¼ |
| **15:30** | æ³•äººè³‡æ–™ | ä¸‰å¤§æ³•äººè²·è³£è¶… |
| **16:00** | å€‹è‚¡è³‡æ–™ | å€‹è‚¡æ”¶ç›¤è¡Œæƒ… |
| **16:30** | æ³•äººæ˜ç´° | å€‹è‚¡æ³•äººé€²å‡º |
| **20:00** | **å®Œæ•´æ›´æ–°æ¯”å°** | è³‡æ–™ä¸€è‡´æ€§æª¢æŸ¥ã€éºæ¼è£œé½Š |

## ğŸš€ å®‰è£ä½¿ç”¨

### ç’°å¢ƒéœ€æ±‚
- Node.js 18+
- MongoDB 6+
- TypeScript

### å¿«é€Ÿé–‹å§‹
```bash
# 1. å®‰è£ä¾è³´
npm install

# 2. è¨­å®šç’°å¢ƒè®Šæ•¸
cp .env.example .env
# ç·¨è¼¯ .env æª”æ¡ˆè¨­å®š MongoDB é€£ç·š

# 3. ç·¨è­¯å°ˆæ¡ˆ
npm run build

# 4. å•Ÿå‹•æœå‹™
npm run start

# 5. èƒŒæ™¯åŸ·è¡Œ
nohup npm run start > server.log 2>&1 &
```

### ç›£æ§ç«¯é»
```bash
# æª¢æŸ¥å‡æ—¥
curl "http://localhost:3000/holiday/check?date=2025-11-03"

# API å¥åº·ç‹€æ…‹
curl "http://localhost:3000/api-status/health"

# å·²çŸ¥å•é¡Œ
curl "http://localhost:3000/api-status/issues"
```

## ğŸ”§ ç‰ˆæ§ç®¡ç†

æœ¬å°ˆæ¡ˆä½¿ç”¨ Git é€²è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œä¸¦æä¾›ä¾¿åˆ©çš„ç®¡ç†è…³æœ¬ã€‚

### åŸºæœ¬ Git æ“ä½œ

```bash
# æŸ¥çœ‹ç‹€æ…‹
git status

# æäº¤è®Šæ›´
git add .
git commit -m "æ‚¨çš„æäº¤è¨Šæ¯"

# æŸ¥çœ‹æ­·å²
git log --oneline
```

### ä½¿ç”¨ç‰ˆæ§ç®¡ç†è…³æœ¬

å°ˆæ¡ˆæä¾› `git-backup.sh` è…³æœ¬ç°¡åŒ–ç‰ˆæ§æ“ä½œï¼š

```bash
# å¿«é€Ÿå‚™ä»½
./git-backup.sh backup "ä¿®å¾©APIå•é¡Œ"

# å»ºç«‹åŠŸèƒ½åˆ†æ”¯
./git-backup.sh feature new-feature

# åˆä½µåˆ†æ”¯
./git-backup.sh merge feature/new-feature

# æŸ¥çœ‹ç‹€æ…‹
./git-backup.sh status

# å»ºç«‹ç‰ˆæœ¬æ¨™ç±¤
./git-backup.sh tag v1.1.0 "æ–°å¢å‡æ—¥æª¢æ¸¬åŠŸèƒ½"

# æŸ¥çœ‹èªªæ˜
./git-backup.sh help
```

### åˆ†æ”¯ç­–ç•¥

```
main (ä¸»åˆ†æ”¯)
â”œâ”€â”€ develop (é–‹ç™¼åˆ†æ”¯)
â”œâ”€â”€ feature/* (åŠŸèƒ½åˆ†æ”¯)
â”‚   â”œâ”€â”€ feature/data-collection
â”‚   â”œâ”€â”€ feature/api-monitoring
â”‚   â””â”€â”€ feature/holiday-integration
â””â”€â”€ hotfix/* (ç·Šæ€¥ä¿®å¾©åˆ†æ”¯)
```

### æäº¤è¦ç¯„

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è¦ç¯„ï¼š

```bash
# åŠŸèƒ½æ–°å¢
git commit -m "feat: æ–°å¢æ™ºèƒ½å‡æ—¥æª¢æ¸¬åŠŸèƒ½"

# éŒ¯èª¤ä¿®å¾©
git commit -m "fix: ä¿®å¾©APIé€£ç·šé€¾æ™‚å•é¡Œ"

# æ–‡ä»¶æ›´æ–°
git commit -m "docs: æ›´æ–°APIä½¿ç”¨èªªæ˜"

# é‡æ§‹ä»£ç¢¼
git commit -m "refactor: å„ªåŒ–è³‡æ–™æª¢æŸ¥é‚è¼¯"

# æ€§èƒ½æ”¹å–„
git commit -m "perf: æå‡è³‡æ–™è™•ç†æ•ˆç‡90%"
```

## ğŸ“š API æ–‡ä»¶

### å‡æ—¥æª¢æŸ¥æœå‹™
- `GET /holiday/check?date=YYYY-MM-DD` - æª¢æŸ¥æŒ‡å®šæ—¥æœŸæ˜¯å¦ç‚ºå‡æ—¥
- `GET /holiday/working-days?start=YYYY-MM-DD&end=YYYY-MM-DD` - å–å¾—å·¥ä½œæ—¥æ¸…å–®
- `GET /holiday/cache-stats` - å¿«å–ç‹€æ…‹çµ±è¨ˆ

### API ç‹€æ…‹ç›£æ§
- `GET /api-status/health` - æ•´é«”å¥åº·ç‹€æ…‹
- `GET /api-status/issues` - å·²çŸ¥å•é¡Œæ¸…å–®
- `GET /api-status/dashboard` - ç›£æ§å„€è¡¨æ¿

## ğŸ“Š è³‡æ–™æ¶æ§‹

### MarketStats Collection
```typescript
{
  date: string;           // æ—¥æœŸ
  taiexPrice: number;     // åŠ æ¬ŠæŒ‡æ•¸
  taiexChange: number;    // æ¼²è·Œé»æ•¸
  finiNetBuySell: number; // å¤–è³‡è²·è³£è¶…
  sitcNetBuySell: number; // æŠ•ä¿¡è²·è³£è¶…
  // ... å…¶ä»–ç±Œç¢¼è³‡æ–™
}
```

### Tickers Collection
```typescript
{
  date: string;           // æ—¥æœŸ
  symbol: string;         // è‚¡ç¥¨ä»£è™Ÿ
  name: string;           // è‚¡ç¥¨åç¨±
  exchange: Exchange;     // äº¤æ˜“æ‰€
  type: TickerType;       // é¡å‹(è‚¡ç¥¨/æŒ‡æ•¸)
  closePrice: number;     // æ”¶ç›¤åƒ¹
  change: number;         // æ¼²è·Œ
  // ... å…¶ä»–è¡Œæƒ…è³‡æ–™
}
```

## ğŸ“ˆ ç³»çµ±æ•ˆèƒ½

| é …ç›® | å„ªåŒ–å‰ | å„ªåŒ–å¾Œ | æ”¹å–„ |
|------|--------|--------|------|
| API å‘¼å« | 100% | 10-20% | **80-90% â¬‡ï¸** |
| è™•ç†æ™‚é–“ | 100% | 10-20% | **80-90% â¬‡ï¸** |
| éŒ¯èª¤è¨Šæ¯ | å¤§é‡ | ç²¾æº– | **95%+ â¬‡ï¸** |
| ç©©å®šæ€§ | ä¸€èˆ¬ | é«˜ | **é¡¯è‘— â¬†ï¸** |

## ğŸ› ï¸ é–‹ç™¼æŒ‡å—

### å°ˆæ¡ˆçµæ§‹
```
src/
â”œâ”€â”€ common/              # å…±ç”¨æœå‹™
â”‚   â”œâ”€â”€ holiday.service.ts
â”‚   â””â”€â”€ api-status.service.ts
â”œâ”€â”€ market-stats/        # å¤§ç›¤ç±Œç¢¼æ¨¡çµ„
â”œâ”€â”€ ticker/              # å€‹è‚¡è¡Œæƒ…æ¨¡çµ„
â””â”€â”€ scraper/             # è³‡æ–™æŠ“å–æœå‹™
```

### æ–°å¢åŠŸèƒ½
1. ä½¿ç”¨è…³æœ¬å»ºç«‹åŠŸèƒ½åˆ†æ”¯ï¼š`./git-backup.sh feature new-feature`
2. é–‹ç™¼ä¸¦æ¸¬è©¦åŠŸèƒ½
3. æäº¤è®Šæ›´ï¼š`./git-backup.sh backup "æ–°å¢åŠŸèƒ½èªªæ˜"`
4. åˆä½µåˆ†æ”¯ï¼š`./git-backup.sh merge feature/new-feature`

## ğŸ“ æ”¯æ´

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹é€éä»¥ä¸‹æ–¹å¼è¯ç¹«ï¼š
- å»ºç«‹ Issue å›å ±å•é¡Œ
- æäº¤ Pull Request è²¢ç»ä»£ç¢¼
- æŸ¥çœ‹æ–‡ä»¶ç²å–è©³ç´°èªªæ˜

---

**ğŸ‰ ç³»çµ±ç‹€æ…‹**: å®Œå…¨å°±ç·’ï¼Œè‡ªå‹•åŒ–é‹è¡Œä¸­  
**ğŸ“Š è³‡æ–™å®Œæ•´æ€§**: æ™ºèƒ½ä¿éšœ  
**ğŸ”§ ç‰ˆæœ¬æ§åˆ¶**: Git ç®¡ç†  
**âš¡ æ•ˆèƒ½**: 80-90% æå‡